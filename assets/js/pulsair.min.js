/*! Pulsair Theme - v0.1.0
 * http://www.pulsair.com/
 * Copyright (c) 2016; * Licensed GPL-2.0+ */
!function(a,b){"use strict";function c(){for(var a=m.menuToggle,b=0;b<a.length;b++)a[b].addEventListener("click",d)}function d(a){a.preventDefault();for(var b=m.html,c="js-nav-open",d=m.menuToggle,e=0;e<d.length;e++){var f=d[e].getAttribute("aria-expanded");"false"===f?d[e].setAttribute("aria-expanded","true"):d[e].setAttribute("aria-expanded","false")}if(b.classList)j(b,c)&&h(m.menuSubClose),b.classList.toggle(c);else{var g=b.className.split(" "),i=g.indexOf(c);i>=0?g.splice(i,1):g.push(c),b.className=g.join(" ")}}function e(){for(var a=m.menuSubOpen,b=0;b<a.length;b++)a[b].addEventListener("click",f,!1)}function f(a){var b="menu-item-has-children--open",c="js-subnav-open",d=a.currentTarget.parentNode;a.preventDefault(),d.classList.add(b),m.pnmenu.classList.add(c)}function g(){m.menuSubClose.addEventListener("click",h,!1)}function h(a){var b=l.querySelectorAll(".menu-item-has-children--open"),c="menu-item-has-children--open",d="js-subnav-open";a.currentTarget&&a.preventDefault();for(var e=0;e<b.length;e++)b[e].classList.remove(c);m.pnmenu.classList.remove(d)}function i(){imagesLoaded(l.body,function(a){l.body.className+=" js-images-loaded"})}function j(a,b){return a.className&&new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)}function k(){if(!Modernizr.objectfit)for(var a=m.imgfit,b=0;b<a.length;b++)if(j(a[b],"compat-object-fit"));else{var c=a[b],d=c.getElementsByTagName("img").attr(data-fallback-img);""!==d&&(c.classList.add("compat-object-fit"),c.style.backgroundImage='url("'+d+'")')}}var l=a.document,m={html:l.getElementById("html"),pnmenu:l.getElementById("pn-menu__items"),body:l.body,menuToggle:l.querySelectorAll(".pn-menu__toggle"),menuMask:l.querySelector(".pn-menu__mask"),menuSubOpen:l.querySelectorAll(".pn-menu__items > .menu-item-has-children > a"),menuSubClose:l.querySelector(".pm-menu__subnav-close a"),imgfit:l.querySelectorAll(".img-fit")};c(),e(),i(),g(),k()}(this);